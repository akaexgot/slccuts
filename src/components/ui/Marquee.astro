---
interface Props {
    phrases: string[];
}

const { phrases } = Astro.props;
// Repeat phrases enough times to fill screen
const segments = Array(5).fill(phrases).flat();
---

<div
    class="relative flex overflow-hidden bg-black text-white py-6 border-y border-white/10 select-none group"
>
    <div
        class="animate-marquee whitespace-nowrap flex items-center flex-shrink-0 min-w-full"
    >
        {
            segments.map((seg, i) => (
                <div class="flex items-center">
                    <span class="text-3xl md:text-4xl uppercase tracking-[0.2em] mx-6 font-darkcastle leading-relaxed inline-block pt-1">
                        {seg}
                    </span>
                    <span class="text-2xl mx-4 font-sans text-pink-500">✦</span>
                </div>
            ))
        }
    </div>

    <div
        class="animate-marquee whitespace-nowrap flex items-center flex-shrink-0 min-w-full"
        aria-hidden="true"
    >
        {
            segments.map((seg, i) => (
                <div class="flex items-center">
                    <span class="text-3xl md:text-4xl uppercase tracking-[0.2em] mx-6 font-darkcastle leading-relaxed inline-block pt-1">
                        {seg}
                    </span>
                    <span class="text-2xl mx-4 font-sans text-pink-500">✦</span>
                </div>
            ))
        }
    </div>
</div>

<style>
    /* Safe fallback if tailwind config fails or for double-layered seamless loop */
    .animate-marquee {
        animation: marquee 40s linear infinite;
    }
    @keyframes marquee {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-100%);
        }
    }
</style>
